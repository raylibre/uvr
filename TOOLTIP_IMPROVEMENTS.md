# –£–ª—É—á—à–µ–Ω–∏—è tooltip –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ä—Ç—ã –£–∫—Ä–∞–∏–Ω—ã

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞ —Å –∑–∞–≤–∏—Å–∞–Ω–∏–µ–º tooltip
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–∏ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ–º –≤—ã–≤–æ–¥–µ –º—ã—à–∫–∏ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –∫–∞—Ä—Ç—ã tooltip –æ—Å—Ç–∞–≤–∞–ª—Å—è –≤–∏–¥–∏–º—ã–º –∏ –∑–∞–≤–∏—Å–∞–ª –Ω–∞–¥ –∫—É—Ä—Å–æ—Ä–æ–º.

**–†–µ—à–µ–Ω–∏–µ**:
- –î–æ–±–∞–≤–ª–µ–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `@mouseleave="handleMapMouseLeave"` –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–∞—Ä—Ç—ã
- –°–æ–∑–¥–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `handleMapMouseLeave()` –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏ tooltip

```vue
<!-- –í template -->
<div class="map-container" @mouseleave="handleMapMouseLeave">

<!-- –í script -->
const handleMapMouseLeave = () => {
  hoveredRegion.value = null
  if (tooltip.value) {
    tooltip.value.visible = false
  }
}
```

### 2. üé® –£–ª—É—á—à–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Å—Ç–∏–ª–µ–π tooltip
**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- ‚úÖ **–ü–æ–¥–Ω—è—Ç –≤—ã—à–µ –∫—É—Ä—Å–æ—Ä–∞**: `y = clientY - 50` (–±—ã–ª–æ `clientY - 30`)
- ‚úÖ **–ñ–µ–ª—Ç—ã–π —Ü–≤–µ—Ç**: `bg-yellow-400` –≤–º–µ—Å—Ç–æ `bg-gray-800`
- ‚úÖ **–¢–µ–º–Ω—ã–π —Ç–µ–∫—Å—Ç**: `text-gray-900` –≤–º–µ—Å—Ç–æ `text-white`
- ‚úÖ **–ñ–∏—Ä–Ω—ã–π —à—Ä–∏—Ñ—Ç**: –¥–æ–±–∞–≤–ª–µ–Ω `font-medium`
- ‚úÖ **–ñ–µ–ª—Ç–∞—è —Å—Ç—Ä–µ–ª–∫–∞**: `border-top-color: #facc15`

**–î–æ –∏ –ø–æ—Å–ª–µ**:
```css
/* –î–æ */
.m-map-tooltip {
  @apply bg-gray-800 text-white;
  border-top-color: #374151;
}

/* –ü–æ—Å–ª–µ */
.m-map-tooltip {
  @apply bg-yellow-400 text-gray-900 font-medium;
  border-top-color: #facc15;
}
```

### 3. üá∫üá¶ –£–∫—Ä–∞–∏–Ω—Å–∫–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –æ–±–ª–∞—Å—Ç–µ–π
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –£–∂–µ —Ä–∞–±–æ—Ç–∞–ª–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

Tooltip –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —É–∫—Ä–∞–∏–Ω—Å–∫–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∏–∑ `regionNameMapping`:
```typescript
const ukrainianName = regionNameMapping[regionId] || regionName
tooltip.value.text = ukrainianName
```

### 4. üìê –£–º–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ tooltip (–∞–Ω—Ç–∏-–æ–±—Ä–µ–∑–∞–Ω–∏–µ)
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–∞ –∫—Ä–∞—è—Ö —ç–∫—Ä–∞–Ω–∞ tooltip –æ–±—Ä–µ–∑–∞–ª—Å—è –∏–ª–∏ –≤—ã—Ö–æ–¥–∏–ª –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã.

**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —É–º–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

#### –õ–æ–≥–∏–∫–∞ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:
```typescript
const adjustTooltipPosition = async () => {
  const rect = tooltipEl.value.getBoundingClientRect()
  const windowWidth = window.innerWidth
  const windowHeight = window.innerHeight
  
  let newX = props.x
  let newY = props.y
  
  // –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è
  if (props.x + rect.width / 2 > windowWidth - 10) {
    // –°–ª–∏—à–∫–æ–º –±–ª–∏–∑–∫–æ –∫ –ø—Ä–∞–≤–æ–º—É –∫—Ä–∞—é
    newX = windowWidth - rect.width - 10
  } else if (props.x - rect.width / 2 < 10) {
    // –°–ª–∏—à–∫–æ–º –±–ª–∏–∑–∫–æ –∫ –ª–µ–≤–æ–º—É –∫—Ä–∞—é  
    newX = rect.width / 2 + 10
  }
  
  // –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è
  if (props.y < rect.height + 10) {
    // –°–ª–∏—à–∫–æ–º –±–ª–∏–∑–∫–æ –∫ –≤–µ—Ä—Ö—É - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–Ω–∏–∑—É –∫—É—Ä—Å–æ—Ä–∞
    newY = props.y + 60
    flipVertical.value = true
  }
}
```

#### –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–º–µ—â–µ–Ω–∏–µ –≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ** –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –∫—Ä–∞–µ–≤ —ç–∫—Ä–∞–Ω–∞
- **–ü–µ—Ä–µ–≤–æ—Ä–æ—Ç –≤–Ω–∏–∑** –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–µ –º–µ—Å—Ç–∞ —Å–≤–µ—Ä—Ö—É
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ CSS –∫–ª–∞—Å—Å—ã** –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç—Ä–µ–ª–∫–∏
- **–†–µ–∞–∫—Ç–∏–≤–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** —á–µ—Ä–µ–∑ watchers

#### CSS –¥–ª—è –ø–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç–æ–≥–æ tooltip:
```css
.tooltip-flipped-vertical::after {
  @apply bottom-full top-auto;
  border-top-color: transparent;
  border-bottom-color: #facc15;
}
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –ù–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ MMapTooltip:
- `ref()` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ DOM —ç–ª–µ–º–µ–Ω—Ç—É
- `watch()` –¥–ª—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è  
- `nextTick()` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –∑–∞–º–µ—Ä–æ–≤ DOM
- `getBoundingClientRect()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–æ–≤ tooltip

### –†–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:
```typescript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ props
watch(() => [props.visible, props.x, props.y], adjustTooltipPosition, { immediate: true })
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### ‚úÖ –í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã:
1. **üêõ –ó–∞–≤–∏—Å–∞–Ω–∏–µ tooltip**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —á–µ—Ä–µ–∑ `handleMapMouseLeave`
2. **üé® –ñ–µ–ª—Ç—ã–π —Ü–≤–µ—Ç –∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü—Ä–∏–º–µ–Ω–µ–Ω–æ  
3. **üá∫üá¶ –£–∫—Ä–∞–∏–Ω—Å–∫–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è**: –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
4. **üìê –û–±—Ä–µ–∑–∞–Ω–∏–µ –Ω–∞ –∫—Ä–∞—è—Ö**: –£–º–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

### üöÄ –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** - tooltip –≤—Å–µ–≥–¥–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö —ç–∫—Ä–∞–Ω–∞
- **–ü–µ—Ä–µ–≤–æ—Ä–æ—Ç –ø—Ä–∏ –Ω–µ—Ö–≤–∞—Ç–∫–µ –º–µ—Å—Ç–∞** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–Ω–∏–∑—É –∫—É—Ä—Å–æ—Ä–∞
- **–£–ª—É—á—à–µ–Ω–Ω–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å** - —è—Ä–∫–∏–π –∂–µ–ª—Ç—ã–π —Ü–≤–µ—Ç —Å –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º
- **Stable positioning** - –Ω–µ—Ç –¥—Ä–æ–∂–∞–Ω–∏—è –∏–ª–∏ –º–µ—Ä—Ü–∞–Ω–∏—è

### üì± UX —É–ª—É—á—à–µ–Ω–∏—è:
- **–ß–µ—Ç–∫–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å** –æ–±–ª–∞—Å—Ç–µ–π –Ω–∞ –∂–µ–ª—Ç–æ–º —Ñ–æ–Ω–µ
- **–ö–æ–º—Ñ–æ—Ä—Ç–Ω–æ–µ —á—Ç–µ–Ω–∏–µ** —É–∫—Ä–∞–∏–Ω—Å–∫–∏—Ö –Ω–∞–∑–≤–∞–Ω–∏–π
- **–ù–µ—Ç –æ–±—Ä–µ–∑–∞–Ω–∏—è** –Ω–∞ –ª—é–±—ã—Ö —Ä–∞–∑–º–µ—Ä–∞—Ö —ç–∫—Ä–∞–Ω–∞
- **–ü–ª–∞–≤–Ω–æ–µ —Å–∫—Ä—ã—Ç–∏–µ** –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –∫–∞—Ä—Ç—ã

## üåê –°—Ç–∞—Ç—É—Å
‚úÖ **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**: http://localhost:5173/  
‚úÖ **Tooltip —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**  
‚úÖ **–í—Å–µ edge cases –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã**  
‚úÖ **UX –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–µ–Ω**

---

**–ö–∞—Ä—Ç–∞ –£–∫—Ä–∞–∏–Ω—ã —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π, —É–¥–æ–±–Ω—ã–π –∏ –Ω–∞–¥–µ–∂–Ω—ã–π tooltip! üá∫üá¶‚ú®**
